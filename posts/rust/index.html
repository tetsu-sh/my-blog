<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="apple-touch-icon" sizes="128x128" href="/favicon/favicon-128.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32-32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16-16.png"/><link rel="manifest" href="/favicon/site.webmanifest"/><link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#000000"/><link rel="shortcut icon" href="/favicon/favicon-32-32.png"/><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-config" content="/favicon/browserconfig.xml"/><meta name="theme-color" content="#000"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><meta name="description" content="A statically generated blog example using Next.js and Markdown."/><meta property="og:image" content="https://og-image.vercel.app/Next.js%20Blog%20Starter%20Example.png?theme=light&amp;md=1&amp;fontSize=100px&amp;images=https%3A%2F%2Fassets.vercel.com%2Fimage%2Fupload%2Ffront%2Fassets%2Fdesign%2Fnextjs-black-logo.svg"/><title>Rustに触ってみた</title><meta name="next-head-count" content="15"/><script src="https://embed.zenn.studio/js/listen-embed-event.js"></script><link rel="preload" href="/_next/static/css/a22c2f7ee8554c55.css" as="style"/><link rel="stylesheet" href="/_next/static/css/a22c2f7ee8554c55.css" data-n-g=""/><link rel="preload" href="/_next/static/css/cf121497002c184d.css" as="style"/><link rel="stylesheet" href="/_next/static/css/cf121497002c184d.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-491c01545a840e20.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-455fdf1d9b7b48bd.js" defer=""></script><script src="/_next/static/chunks/pages/_app-0f73896300543aa7.js" defer=""></script><script src="/_next/static/chunks/d0447323-452de5d02fa80e1c.js" defer=""></script><script src="/_next/static/chunks/831-17ae48e4ef21c306.js" defer=""></script><script src="/_next/static/chunks/358-bd79b5f955437da8.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bslug%5D-7a79fa351b280d1e.js" defer=""></script><script src="/_next/static/zoCEboesSng4sOcTJG0zM/_buildManifest.js" defer=""></script><script src="/_next/static/zoCEboesSng4sOcTJG0zM/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="min-h-screen"><main><div class="flex min-h-screen flex-col"><header><nav class="fixed z-20 w-full bg-gray-700 py-3 text-center font-semibold" aria-label="Header navigation"><span class="test-xs px-2.5 text-neutral-200 hover:text-neutral-500 active:text-gray-600 transition duration-100">home</span><span class="test-xs px-2.5 text-neutral-200 hover:text-neutral-500 active:text-gray-600 transition duration-100">about</span><span class="test-xs px-2.5 text-neutral-200 hover:text-neutral-500 active:text-gray-600 transition duration-100">oisource</span></nav></header><div class="container mx-auto px-5"><article><div></div><div><div class="mt-16"><h1 class="text-5xl md:text-7xl lg:text-3xl font-bold tracking-tighter leading-tight md:leading-none mb-12 text-center md:text-left">Rustに触ってみた</h1><div class="mb-6 text-lg"><time dateTime="2022-10-16T05:35:07.322Z">October	16, 2022</time></div><div class="max-w-2xl mx-auto"></div></div></div><div class="flex gap-10 znc"><div class="article"><div class="post"><div class="markdown-styles_markdown__h_8de"><ul>
<li>Rust の勉強を少ししてみた。udemy みたり、入門 Rust プログラミングを読んだりちょろちょろ３、４ヶ月ほど</li>
<li>『問題解決のための「アルゴリズム × 数学」が基礎からしっかり身につく本』のアルゴリズム問題を rust でやってみたりした<a href="https://github.com/tetsu-sh/algorithm" target="_blank" rel="nofollow noopener noreferrer">github/tetsu-sh/algorithm</a></li>
<li>actix-web でちょっとしたウェブアプリを DDD 的に作ってみたりした。<a href="https://github.com/tetsu-sh/muscle" target="_blank" rel="nofollow noopener noreferrer">github/testsu-sh/muscle</a></li>
<li>非常に勉強になる。</li>
<li>引き続き勉強投資してく。wasm や組み込みもやっていきたい。</li>
<li>GraphQL も試しつつローカルアプリ作成中<a href="https://github.com/tetsu-sh/oisource" target="_blank" rel="nofollow noopener noreferrer">github/testsu-sh/oisource</a></li>
</ul>
<h2 id="%E8%87%AA%E8%BB%A2%E8%BB%8A"><a class="header-anchor-link" href="#%E8%87%AA%E8%BB%A2%E8%BB%8A" aria-hidden="true"></a> 自転車</h2>
<ul>
<li>
<p>斜め読み</p>
</li>
<li>
<p>#[repr(C)]内部表現<br />
　- 内部表現を機に s なくて良いが、上記アトリビュートをつけると C 言語準拠隣、FFI で安全に他言語に構造体を渡せる。</p>
</li>
<li>
<p>型変換</p>
<ul>
<li>型キャスト as
<ul>
<li>スカラ型同士を変換。桁あふれに注意</li>
</ul>
</li>
<li>複合型の型変換
<ul>
<li>std::convert::From があればできる。</li>
</ul>
</li>
<li>transmute
<ul>
<li>型情報のみ変換する。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="zero-rust"><a class="header-anchor-link" href="#zero-rust" aria-hidden="true"></a> zero rust</h2>
<ul>
<li>loop の break に値を渡すと loop の結果として渡すことができる</li>
<li>closure はキャプチャ変数を持った環境と、その環境へのポインタと関数へのポインタを持つ。move をすると環境に元の変数から所有権が移る</li>
<li>channel</li>
<li>Arc,Mutex,RWRock</li>
<li>dyn は関数テーブルへのポインタを示す</li>
<li>スーパートレイと：トレイとを構成するトレイト。スーパートレイトを実装すればトレイトを満たす。</li>
<li>Fn は関数型を表すトレイト、クロージャや関数は自動的にこれを実装する。</li>
</ul>
<h2 id="trpl"><a class="header-anchor-link" href="#trpl" aria-hidden="true"></a> TRPL</h2>
<ul>
<li>5</li>
</ul>
<h2 id="irorio"><a class="header-anchor-link" href="#irorio" aria-hidden="true"></a> irorio</h2>
<h3 id="asociated-type"><a class="header-anchor-link" href="#asociated-type" aria-hidden="true"></a> asociated type</h3>
<ul>
<li><a href="https://doc.rust-lang.org/beta/rust-by-example/generics/assoc_items/types.html" target="_blank" rel="nofollow noopener noreferrer">https://doc.rust-lang.org/beta/rust-by-example/generics/assoc_items/types.html</a></li>
<li>trait に紐づけられた型</li>
<li>trait 境界の記述がシンプルになる.Generic type との使い分け</li>
</ul>
<div class="code-block-container"><pre class="language-rust"><code class="language-rust"><span class="token keyword">struct</span> <span class="token type-definition class-name">Container</span><span class="token punctuation">(</span><span class="token keyword">i32</span><span class="token punctuation">,</span> <span class="token keyword">i32</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// A trait which checks if 2 items are stored inside of container.</span>
<span class="token comment">// Also retrieves first or last value.</span>
<span class="token keyword">trait</span> <span class="token type-definition class-name">Contains</span> <span class="token punctuation">{</span>
<span class="token comment">// Define generic types here which methods will be able to utilize.</span>
<span class="token keyword">type</span> <span class="token type-definition class-name">A</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token type-definition class-name">B</span><span class="token punctuation">;</span>

    <span class="token keyword">fn</span> <span class="token function-definition function">contains</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">self</span><span class="token punctuation">,</span> _<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token keyword">Self</span><span class="token punctuation">::</span><span class="token class-name">A</span><span class="token punctuation">,</span> _<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token keyword">Self</span><span class="token punctuation">::</span><span class="token class-name">B</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token keyword">bool</span><span class="token punctuation">;</span>
    <span class="token keyword">fn</span> <span class="token function-definition function">first</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token keyword">i32</span><span class="token punctuation">;</span>
    <span class="token keyword">fn</span> <span class="token function-definition function">last</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token keyword">i32</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>

<span class="token keyword">impl</span> <span class="token class-name">Contains</span> <span class="token keyword">for</span> <span class="token class-name">Container</span> <span class="token punctuation">{</span>
<span class="token comment">// Specify what types `A` and `B` are. If the `input` type</span>
<span class="token comment">// is `Container(i32, i32)`, the `output` types are determined</span>
<span class="token comment">// as `i32` and `i32`.</span>
<span class="token keyword">type</span> <span class="token type-definition class-name">A</span> <span class="token operator">=</span> <span class="token keyword">i32</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> <span class="token type-definition class-name">B</span> <span class="token operator">=</span> <span class="token keyword">i32</span><span class="token punctuation">;</span>

    <span class="token comment">// `&amp;Self::A` and `&amp;Self::B` are also valid here.</span>
    <span class="token keyword">fn</span> <span class="token function-definition function">contains</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">self</span><span class="token punctuation">,</span> number_1<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token keyword">i32</span><span class="token punctuation">,</span> number_2<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token keyword">i32</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token keyword">bool</span> <span class="token punctuation">{</span>
        <span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">self</span><span class="token punctuation">.</span><span class="token number">0</span> <span class="token operator">==</span> number_1<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">self</span><span class="token punctuation">.</span><span class="token number">1</span> <span class="token operator">==</span> number_2<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Grab the first number.</span>
    <span class="token keyword">fn</span> <span class="token function-definition function">first</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token keyword">i32</span> <span class="token punctuation">{</span> <span class="token keyword">self</span><span class="token punctuation">.</span><span class="token number">0</span> <span class="token punctuation">}</span>

    <span class="token comment">// Grab the last number.</span>
    <span class="token keyword">fn</span> <span class="token function-definition function">last</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token keyword">i32</span> <span class="token punctuation">{</span> <span class="token keyword">self</span><span class="token punctuation">.</span><span class="token number">1</span> <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token keyword">fn</span> <span class="token function-definition function">difference</span><span class="token operator">&lt;</span><span class="token class-name">C</span><span class="token punctuation">:</span> <span class="token class-name">Contains</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>container<span class="token punctuation">:</span> <span class="token operator">&amp;</span><span class="token class-name">C</span><span class="token punctuation">)</span> <span class="token punctuation">-&gt;</span> <span class="token keyword">i32</span> <span class="token punctuation">{</span>
container<span class="token punctuation">.</span><span class="token function">last</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> container<span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">fn</span> <span class="token function-definition function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">let</span> number_1 <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> number_2 <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>

    <span class="token keyword">let</span> container <span class="token operator">=</span> <span class="token class-name">Container</span><span class="token punctuation">(</span>number_1<span class="token punctuation">,</span> number_2<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"Does container contain {} and {}: {}"</span><span class="token punctuation">,</span>
        <span class="token operator">&amp;</span>number_1<span class="token punctuation">,</span> <span class="token operator">&amp;</span>number_2<span class="token punctuation">,</span>
        container<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>number_1<span class="token punctuation">,</span> <span class="token operator">&amp;</span>number_2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"First number: {}"</span><span class="token punctuation">,</span> container<span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"Last number: {}"</span><span class="token punctuation">,</span> container<span class="token punctuation">.</span><span class="token function">last</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token macro property">println!</span><span class="token punctuation">(</span><span class="token string">"The difference is: {}"</span><span class="token punctuation">,</span> <span class="token function">difference</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>container<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>

</code></pre></div><h3 id="future-output"><a class="header-anchor-link" href="#future-output" aria-hidden="true"></a> Future Output</h3>
</div></div></div></div></article></div></div><style>
        .aside-toc{
          width:300px;
        }
        .article{
          width:(100-aside-toc.width)%
        }
        </style></main></div><footer><div class="p-10 center bg-neutral-800"><div class="flex flex-col items-center gap-4"><div class="flex gap-4"><span class="text-neutral-200 hover:text-neutral-500 active:text-gray-600 transition duration-100" aria-label="Github" href="https://github.com/tetsu-sh"><svg stroke="currentColor" fill="currentColor" stroke-width="0" role="img" viewBox="0 0 24 24" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><title></title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></span><span class="text-neutral-200 hover:text-neutral-500 active:text-gray-600 transition duration-100" aria-label="Twitter" href="https://twitter.com/tetsu04228"><svg stroke="currentColor" fill="currentColor" stroke-width="0" role="img" viewBox="0 0 24 24" height="20" width="20" xmlns="http://www.w3.org/2000/svg"><title></title><path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"></path></svg></span></div><div class="text-neutral-200 text-sm text-center">© <!-- -->2023<!-- --> Chimu</div></div></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"Rustに触ってみた","date":"2022-10-16T05:35:07.322Z","slug":"rust","content":"\u003cul\u003e\n\u003cli\u003eRust の勉強を少ししてみた。udemy みたり、入門 Rust プログラミングを読んだりちょろちょろ３、４ヶ月ほど\u003c/li\u003e\n\u003cli\u003e『問題解決のための「アルゴリズム × 数学」が基礎からしっかり身につく本』のアルゴリズム問題を rust でやってみたりした\u003ca href=\"https://github.com/tetsu-sh/algorithm\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003egithub/tetsu-sh/algorithm\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003eactix-web でちょっとしたウェブアプリを DDD 的に作ってみたりした。\u003ca href=\"https://github.com/tetsu-sh/muscle\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003egithub/testsu-sh/muscle\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e非常に勉強になる。\u003c/li\u003e\n\u003cli\u003e引き続き勉強投資してく。wasm や組み込みもやっていきたい。\u003c/li\u003e\n\u003cli\u003eGraphQL も試しつつローカルアプリ作成中\u003ca href=\"https://github.com/tetsu-sh/oisource\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003egithub/testsu-sh/oisource\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"%E8%87%AA%E8%BB%A2%E8%BB%8A\"\u003e\u003ca class=\"header-anchor-link\" href=\"#%E8%87%AA%E8%BB%A2%E8%BB%8A\" aria-hidden=\"true\"\u003e\u003c/a\u003e 自転車\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e斜め読み\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e#[repr(C)]内部表現\u003cbr /\u003e\n　- 内部表現を機に s なくて良いが、上記アトリビュートをつけると C 言語準拠隣、FFI で安全に他言語に構造体を渡せる。\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e型変換\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e型キャスト as\n\u003cul\u003e\n\u003cli\u003eスカラ型同士を変換。桁あふれに注意\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e複合型の型変換\n\u003cul\u003e\n\u003cli\u003estd::convert::From があればできる。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003etransmute\n\u003cul\u003e\n\u003cli\u003e型情報のみ変換する。\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"zero-rust\"\u003e\u003ca class=\"header-anchor-link\" href=\"#zero-rust\" aria-hidden=\"true\"\u003e\u003c/a\u003e zero rust\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eloop の break に値を渡すと loop の結果として渡すことができる\u003c/li\u003e\n\u003cli\u003eclosure はキャプチャ変数を持った環境と、その環境へのポインタと関数へのポインタを持つ。move をすると環境に元の変数から所有権が移る\u003c/li\u003e\n\u003cli\u003echannel\u003c/li\u003e\n\u003cli\u003eArc,Mutex,RWRock\u003c/li\u003e\n\u003cli\u003edyn は関数テーブルへのポインタを示す\u003c/li\u003e\n\u003cli\u003eスーパートレイと：トレイとを構成するトレイト。スーパートレイトを実装すればトレイトを満たす。\u003c/li\u003e\n\u003cli\u003eFn は関数型を表すトレイト、クロージャや関数は自動的にこれを実装する。\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"trpl\"\u003e\u003ca class=\"header-anchor-link\" href=\"#trpl\" aria-hidden=\"true\"\u003e\u003c/a\u003e TRPL\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e5\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"irorio\"\u003e\u003ca class=\"header-anchor-link\" href=\"#irorio\" aria-hidden=\"true\"\u003e\u003c/a\u003e irorio\u003c/h2\u003e\n\u003ch3 id=\"asociated-type\"\u003e\u003ca class=\"header-anchor-link\" href=\"#asociated-type\" aria-hidden=\"true\"\u003e\u003c/a\u003e asociated type\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://doc.rust-lang.org/beta/rust-by-example/generics/assoc_items/types.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003ehttps://doc.rust-lang.org/beta/rust-by-example/generics/assoc_items/types.html\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003etrait に紐づけられた型\u003c/li\u003e\n\u003cli\u003etrait 境界の記述がシンプルになる.Generic type との使い分け\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"code-block-container\"\u003e\u003cpre class=\"language-rust\"\u003e\u003ccode class=\"language-rust\"\u003e\u003cspan class=\"token keyword\"\u003estruct\u003c/span\u003e \u003cspan class=\"token type-definition class-name\"\u003eContainer\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003ei32\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token keyword\"\u003ei32\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"token comment\"\u003e// A trait which checks if 2 items are stored inside of container.\u003c/span\u003e\n\u003cspan class=\"token comment\"\u003e// Also retrieves first or last value.\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003etrait\u003c/span\u003e \u003cspan class=\"token type-definition class-name\"\u003eContains\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\u003cspan class=\"token comment\"\u003e// Define generic types here which methods will be able to utilize.\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003etype\u003c/span\u003e \u003cspan class=\"token type-definition class-name\"\u003eA\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003etype\u003c/span\u003e \u003cspan class=\"token type-definition class-name\"\u003eB\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"token keyword\"\u003efn\u003c/span\u003e \u003cspan class=\"token function-definition function\"\u003econtains\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"token keyword\"\u003eself\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e _\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token operator\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"token keyword\"\u003eSelf\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e::\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eA\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e _\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token operator\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"token keyword\"\u003eSelf\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e::\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eB\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"token keyword\"\u003ebool\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003efn\u003c/span\u003e \u003cspan class=\"token function-definition function\"\u003efirst\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"token keyword\"\u003eself\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"token keyword\"\u003ei32\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003efn\u003c/span\u003e \u003cspan class=\"token function-definition function\"\u003elast\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"token keyword\"\u003eself\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"token keyword\"\u003ei32\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"token keyword\"\u003eimpl\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eContains\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efor\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eContainer\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\u003cspan class=\"token comment\"\u003e// Specify what types `A` and `B` are. If the `input` type\u003c/span\u003e\n\u003cspan class=\"token comment\"\u003e// is `Container(i32, i32)`, the `output` types are determined\u003c/span\u003e\n\u003cspan class=\"token comment\"\u003e// as `i32` and `i32`.\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003etype\u003c/span\u003e \u003cspan class=\"token type-definition class-name\"\u003eA\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003ei32\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003etype\u003c/span\u003e \u003cspan class=\"token type-definition class-name\"\u003eB\u003c/span\u003e \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token keyword\"\u003ei32\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"token comment\"\u003e// `\u0026amp;Self::A` and `\u0026amp;Self::B` are also valid here.\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003efn\u003c/span\u003e \u003cspan class=\"token function-definition function\"\u003econtains\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"token keyword\"\u003eself\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e number_1\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token operator\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"token keyword\"\u003ei32\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e number_2\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token operator\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"token keyword\"\u003ei32\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"token keyword\"\u003ebool\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"token keyword\"\u003eself\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token number\"\u003e0\u003c/span\u003e \u003cspan class=\"token operator\"\u003e==\u003c/span\u003e number_1\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e\u0026amp;\u0026amp;\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"token keyword\"\u003eself\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token number\"\u003e1\u003c/span\u003e \u003cspan class=\"token operator\"\u003e==\u003c/span\u003e number_2\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"token comment\"\u003e// Grab the first number.\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003efn\u003c/span\u003e \u003cspan class=\"token function-definition function\"\u003efirst\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"token keyword\"\u003eself\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"token keyword\"\u003ei32\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eself\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token number\"\u003e0\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"token comment\"\u003e// Grab the last number.\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003efn\u003c/span\u003e \u003cspan class=\"token function-definition function\"\u003elast\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"token keyword\"\u003eself\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"token keyword\"\u003ei32\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eself\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token number\"\u003e1\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"token keyword\"\u003efn\u003c/span\u003e \u003cspan class=\"token function-definition function\"\u003edifference\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u0026lt;\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eC\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eContains\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003econtainer\u003cspan class=\"token punctuation\"\u003e:\u003c/span\u003e \u003cspan class=\"token operator\"\u003e\u0026amp;\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eC\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e-\u0026gt;\u003c/span\u003e \u003cspan class=\"token keyword\"\u003ei32\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\ncontainer\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003elast\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e container\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003efirst\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"token keyword\"\u003efn\u003c/span\u003e \u003cspan class=\"token function-definition function\"\u003emain\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e number_1 \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token number\"\u003e3\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e number_2 \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token number\"\u003e10\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"token keyword\"\u003elet\u003c/span\u003e container \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eContainer\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003enumber_1\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e number_2\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"token macro property\"\u003eprintln!\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"Does container contain {} and {}: {}\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"token operator\"\u003e\u0026amp;\u003c/span\u003enumber_1\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token operator\"\u003e\u0026amp;\u003c/span\u003enumber_2\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n        container\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003econtains\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u0026amp;\u003c/span\u003enumber_1\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token operator\"\u003e\u0026amp;\u003c/span\u003enumber_2\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token macro property\"\u003eprintln!\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"First number: {}\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e container\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003efirst\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token macro property\"\u003eprintln!\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"Last number: {}\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e container\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003elast\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"token macro property\"\u003eprintln!\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"The difference is: {}\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token function\"\u003edifference\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u0026amp;\u003c/span\u003econtainer\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"future-output\"\u003e\u003ca class=\"header-anchor-link\" href=\"#future-output\" aria-hidden=\"true\"\u003e\u003c/a\u003e Future Output\u003c/h3\u003e\n","coverImage":""}},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"rust"},"buildId":"zoCEboesSng4sOcTJG0zM","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>